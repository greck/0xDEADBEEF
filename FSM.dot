digraph FSM {

"START" [ shape=circle label="start" ];

# QUIESCE sequence
#
	subgraph cluster_A {

		color = gray;

		A_QUIESCE        [ shape=box label=<<table border="0"><tr><td align="left">A_QUIESCE</td></tr><tr><td align="left">r=Quiesce</td></tr></table>> ];
		A_WAIT_STOP_UP   [ shape=box label=<<table border="0"><tr><td align="left">A_WAIT_STOP_UP</td></tr><tr><td align="left">r=IsNotTouched</td></tr></table>> ];
		A_WAIT_START_DN  [ shape=box label=<<table border="0"><tr><td align="left">A_WAIT_START_DN</td></tr><tr><td align="left">r=IsTouched</td></tr></table>> ];
		A_WAIT_START_UP  [ shape=box label=<<table border="0"><tr><td align="left">A_WAIT_START_UP</td></tr><tr><td align="left">r=IsNotTouched</td></tr></table>> ];

	}

# "normal" STRAIGHT sequence
#
	subgraph cluster_B {
	
		color = gray;

		B_ADJUST_HEADING [ shape=box label=<<table border="0"><tr><td align="left">B_ADJUST_HEADING</td></tr><tr><td align="left">r=AdjustHeading</td></tr></table>> ];
		B_START_STRAIGHT [ shape=box label=<<table border="0"><tr><td align="left">B_START_STRAIGHT</td></tr><tr><td align="left">r=StartStraight</td></tr></table>> ];
		B_KEEP_STRAIGHT  [ shape=box label=<<table border="0"><tr><td align="left">B_KEEP_STRAIGHT</td></tr><tr><td align="left">r=KeepStraight</td></tr></table>> ];
		B_BOUNDARY_CHECK [ shape=box label=<<table border="0"><tr><td align="left">B_BOUNDARY_CHECK</td></tr><tr><td align="left">r=BoundaryCheck</td></tr></table>> ];
		B_DETECT_BALL    [ shape=box label=<<table border="0"><tr><td align="left">B_DETECT_BALL</td></tr><tr><td align="left">r=DetectBall</td></tr></table>> ];
		B_CHECK_COLOR    [ shape=box label=<<table border="0"><tr><td align="left">B_CHECK_COLOR</td></tr><tr><td align="left">r=CheckColor</td></tr></table>> ];
		B_AVOID          [ shape=box label=<<table border="0"><tr><td align="left">B_AVOID</td></tr><tr><td align="left">r=Avoid</td></tr></table>> ];
		B_CHECK_STOP_DN  [ shape=box label=<<table border="0"><tr><td align="left">B_CHECK_STOP_DN</td></tr><tr><td align="left">r=IsTouched</td></tr></table>> ];

	}		

# "normal" HUNT LEFT sequence
#
	subgraph cluster_C {
	
		color = gray;

		C_HUNT           [ shape=box label=<<table border="0"><tr><td align="left">C_HUNT</td></tr><tr><td align="left">r=HuntLeft</td></tr></table>> ];
		C_DETECT_BALL    [ shape=box label=<<table border="0"><tr><td align="left">C_DETECT_BALL</td></tr><tr><td align="left">r=DetectBall</td></tr></table>> ];
		C_CHECK_COLOR    [ shape=box label=<<table border="0"><tr><td align="left">C_CHECK_COLOR</td></tr><tr><td align="left">r=CheckColor</td></tr></table>> ];
		C_AVOID          [ shape=box label=<<table border="0"><tr><td align="left">C_AVOID</td></tr><tr><td align="left">r=Avoid</td></tr></table>> ];
		C_CHECK_STOP_DN  [ shape=box label=<<table border="0"><tr><td align="left">C_CHECK_STOP_DN</td></tr><tr><td align="left">r=IsTouched</td></tr></table>> ];

	}		

# "normal" HUNT RIGHT sequence
#
	subgraph cluster_D {
	
		color = gray;

		D_HUNT           [ shape=box label=<<table border="0"><tr><td align="left">D_HUNT</td></tr><tr><td align="left">r=HuntRight</td></tr></table>> ];
		D_DETECT_BALL    [ shape=box label=<<table border="0"><tr><td align="left">D_DETECT_BALL</td></tr><tr><td align="left">r=DetectBall</td></tr></table>> ];
		D_CHECK_COLOR    [ shape=box label=<<table border="0"><tr><td align="left">D_CHECK_COLOR</td></tr><tr><td align="left">r=CheckColor</td></tr></table>> ];
		D_AVOID          [ shape=box label=<<table border="0"><tr><td align="left">D_AVOID</td></tr><tr><td align="left">r=Avoid</td></tr></table>> ];
		D_CHECK_STOP_DN  [ shape=box label=<<table border="0"><tr><td align="left">D_CHECK_STOP_DN</td></tr><tr><td align="left">r=IsTouched</td></tr></table>> ];
		D_STRAIGHTEN     [ shape=box label=<<table border="0"><tr><td align="left">D_STRAIGHTEN</td></tr><tr><td align="left">r=Straighten</td></tr></table>> ];

	}		

# "normal" SEARCH PATTERN sequence
#
	subgraph cluster_E {
	
		color = gray;

		E_SEARCH_PATTERN [ shape=box label=<<table border="0"><tr><td align="left">E_SEARCH_PATTERN</td></tr><tr><td align="left">r=Sweep</td></tr></table>> ];
		E_DETECT_BALL    [ shape=box label=<<table border="0"><tr><td align="left">E_DETECT_BALL</td></tr><tr><td align="left">r=DetectBall</td></tr></table>> ];
		E_CHECK_COLOR    [ shape=box label=<<table border="0"><tr><td align="left">E_CHECK_COLOR</td></tr><tr><td align="left">r=CheckColor</td></tr></table>> ];
		E_AVOID          [ shape=box label=<<table border="0"><tr><td align="left">E_AVOID</td></tr><tr><td align="left">r=Avoid</td></tr></table>> ];
		E_CHECK_STOP_DN  [ shape=box label=<<table border="0"><tr><td align="left">E_CHECK_STOP_DN</td></tr><tr><td align="left">r=IsTouched</td></tr></table>> ];

	}

# HOME sequence
#	
	subgraph cluster_F {
	
		F_GO_HOME        [ shape=box label=<<table border="0"><tr><td align="left">H_GO_HOME</td></tr><tr><td align="left">r=GoHome</td></tr></table>> ];
	
	}

	START            -> A_QUIESCE;
	A_QUIESCE        -> A_WAIT_STOP_UP   [ label = "T/F" ];
	A_WAIT_STOP_UP   -> A_WAIT_START_DN  [ label = "T" ];
	A_WAIT_STOP_UP   -> A_WAIT_STOP_UP   [ label = "F" ];
	A_WAIT_START_DN  -> A_WAIT_START_UP  [ label = "T" ];
	A_WAIT_START_DN  -> A_WAIT_START_DN  [ label = "F" ];
	A_WAIT_START_UP  -> B_ADJUST_HEADING [ label = "T" ];
	A_WAIT_START_UP  -> A_WAIT_START_UP  [ label = "F" ];

	B_ADJUST_HEADING -> B_START_STRAIGHT [ label = "T/F" ];
	B_START_STRAIGHT -> B_KEEP_STRAIGHT  [ label = "T/F" ];
	B_KEEP_STRAIGHT  -> B_BOUNDARY_CHECK [ label = "T" ];
	B_KEEP_STRAIGHT  -> C_HUNT           [ label = "F" ];
	B_BOUNDARY_CHECK -> E_SEARCH_PATTERN [ label = "T" ];
	B_BOUNDARY_CHECK -> B_DETECT_BALL    [ label = "F" ];
	B_DETECT_BALL    -> B_CHECK_COLOR    [ label = "T" ];
	B_DETECT_BALL    -> B_CHECK_STOP_DN  [ label = "F" ];
	B_CHECK_COLOR    -> F_GO_HOME        [ label = "T" ];
	B_CHECK_COLOR    -> B_AVOID          [ label = "F" ];
	B_AVOID          -> B_ADJUST_HEADING [ label = "T/F" ];
	B_CHECK_STOP_DN  -> A_QUIESCE        [ label = "T" ];
	B_CHECK_STOP_DN  -> B_KEEP_STRAIGHT  [ label = "F" ];

	C_HUNT           -> C_DETECT_BALL    [ label = "T/F" ];
	C_DETECT_BALL    -> C_CHECK_COLOR    [ label = "T" ];
	C_DETECT_BALL    -> C_CHECK_STOP_DN  [ label = "F" ];
	C_CHECK_COLOR    -> F_GO_HOME        [ label = "T" ];
	C_CHECK_COLOR    -> C_AVOID          [ label = "F" ];
	C_AVOID          -> C_CHECK_STOP_DN  [ label = "T/F" ];
	C_CHECK_STOP_DN  -> A_QUIESCE        [ label = "T" ];
	C_CHECK_STOP_DN  -> D_HUNT           [ label = "F" ];

	D_HUNT           -> D_DETECT_BALL    [ label = "T/F" ];
	D_DETECT_BALL    -> D_CHECK_COLOR    [ label = "T" ];
	D_DETECT_BALL    -> D_CHECK_STOP_DN  [ label = "F" ];
	D_CHECK_COLOR    -> F_GO_HOME        [ label = "T" ];
	D_CHECK_COLOR    -> D_AVOID          [ label = "F" ];
	D_AVOID          -> D_CHECK_STOP_DN  [ label = "T/F" ];
	D_CHECK_STOP_DN  -> A_QUIESCE        [ label = "T" ];
	D_CHECK_STOP_DN  -> D_STRAIGHTEN     [ label = "F" ];
	D_STRAIGHTEN     -> B_ADJUST_HEADING [ label = "T/F" ];

	E_SEARCH_PATTERN -> E_DETECT_BALL    [ label = "T/F" ];
	E_DETECT_BALL    -> E_CHECK_COLOR    [ label = "T" ];
	E_DETECT_BALL    -> E_CHECK_STOP_DN  [ label = "F" ];
	E_CHECK_COLOR    -> F_GO_HOME        [ label = "T" ];
	E_CHECK_COLOR    -> E_AVOID          [ label = "F" ];
	E_AVOID          -> E_SEARCH_PATTERN [ label = "T/F" ];
	E_CHECK_STOP_DN  -> A_QUIESCE        [ label = "T" ];
	E_CHECK_STOP_DN  -> B_ADJUST_HEADING [ label = "F" ];
	
	F_GO_HOME        -> A_QUIESCE        [ label = "T/F" ];
	
}
